---
- name: 'Make sure root user has ssh keys.'
  user:
    name: root
    generate_ssh_key: yes
    ssh_key_type: rsa
    ssh_key_bits: 8192
  register: keys
- name: "Add the new public key to the user's authorized list."
  authorized_key:
    user: root
    state: present
    key: "{{ keys.ssh_public_key }}" 
- name: 'Install the missing language pack.'
  apt:
    name: "{{ item }}" 
    state: present
    update_cache: yes 
  with_items:
  - language-pack-en
- name: 'Update the inventory with a group for Tower.'
  template:
    dest: /etc/ansible/hosts
    src: hosts
- name: 'Copy the configured tower install playbooks to the target.'
  copy:
    src: files/tower
    dest: /tmp
- name: 'Run the install playbook.'
  command: ansible-playbook /tmp/tower/install.yml
...
# vim: ft=ansible: 
